질문 (원본):
2025-10-28

질문: 잘했어. 하지만 기본값으로 '매일'을지정해줘.

답변:
반복 유형 셀렉트의 기본값을 '매일'(daily)로 설정했습니다.

## ✅ 수행한 작업

### 1. 초기 상태 기본값 변경

**Before**:
```typescript
const [repeatType, setRepeatType] = useState<RepeatType>(initialEvent?.repeat.type || 'none');
```

**After**:
```typescript
const [repeatType, setRepeatType] = useState<RepeatType>(
  initialEvent?.repeat.type !== 'none' ? initialEvent.repeat.type : 'daily'
);
```

**변경 사항**:
- ✅ 초기 이벤트가 없거나 반복 유형이 'none'인 경우 → 기본값 **'daily'**
- ✅ 초기 이벤트에 반복 유형이 있는 경우 → 기존 값 유지

### 2. resetForm 기본값 변경

**Before**:
```typescript
const resetForm = () => {
  // ...
  setIsRepeating(false);
  setRepeatType('none');  // ❌
  // ...
};
```

**After**:
```typescript
const resetForm = () => {
  // ...
  setIsRepeating(false);
  setRepeatType('daily');  // ✅
  // ...
};
```

**변경 사항**:
- ✅ 폼 리셋 시 `repeatType`이 **'daily'**로 설정
- ✅ 다음 일정 추가 시 기본값 '매일' 유지

## 🎯 동작 방식

### 시나리오 1: 새 일정 추가
1. 사용자가 "일정 추가" 클릭
2. `repeatType` 초기값 = **'daily'** ✅
3. "반복 일정" 체크박스 체크
4. 반복 유형 셀렉트 표시 → **'매일'이 선택됨** ✅

### 시나리오 2: 일정 수정
1. 사용자가 기존 일정(반복 유형: '매주') 수정
2. `initialEvent.repeat.type = 'weekly'`
3. `repeatType` 초기값 = **'weekly'** ✅ (기존 값 유지)
4. 반복 유형 셀렉트 표시 → **'매주'가 선택됨** ✅

### 시나리오 3: 폼 리셋 후 재사용
1. 사용자가 일정 추가 후 "취소" 클릭
2. `resetForm()` 호출
3. `repeatType = 'daily'` ✅
4. 다시 "일정 추가" → 반복 유형 기본값 **'매일'** ✅

## 📊 상태 흐름

```
초기 로드
  ↓
initialEvent 있음?
  ├─ YES → repeat.type !== 'none'?
  │         ├─ YES → initialEvent.repeat.type 사용
  │         └─ NO  → 'daily' 사용 ✅
  └─ NO  → 'daily' 사용 ✅
  ↓
사용자가 반복 일정 체크
  ↓
반복 유형 셀렉트 표시
  ↓
기본값: '매일' 선택됨 ✅
```

## 🔍 타입 안전성

```typescript
type RepeatType = 'none' | 'daily' | 'weekly' | 'monthly' | 'yearly';

// ✅ 조건문으로 'daily'만 할당
initialEvent?.repeat.type !== 'none' 
  ? initialEvent.repeat.type  // RepeatType
  : 'daily'                   // RepeatType
```

## 📝 코드 위치

### src/hooks/useEventForm.ts

**Line 17-19**: 초기 상태 설정
```typescript
const [repeatType, setRepeatType] = useState<RepeatType>(
  initialEvent?.repeat.type !== 'none' ? initialEvent.repeat.type : 'daily'
);
```

**Line 52**: resetForm 기본값
```typescript
setRepeatType('daily');
```

## ✨ 사용자 경험 개선

### Before (기존):
1. 반복 일정 체크
2. 반복 유형 셀렉트 표시
3. **기본값 없음** 또는 **'none'** ❌
4. 사용자가 수동으로 선택해야 함

### After (개선):
1. 반복 일정 체크
2. 반복 유형 셀렉트 표시
3. **기본값 '매일' 자동 선택** ✅
4. 사용자가 원하면 변경, 그대로 사용 가능

## 🎉 결과

이제 사용자가 반복 일정을 체크하면 자동으로 '매일'이 선택되어, 가장 일반적인 사용 사례에 대해 더 빠른 입력이 가능합니다!

**기본값**: 매일 ✅
**옵션**: 매일 / 매주 / 매월 / 매년

