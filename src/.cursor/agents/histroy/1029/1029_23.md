질문 (원본):
2025-10-29

질문: 제작해 반복 일정 표시를 만들거야. 캘린더 뷰에서 반복 일정을 아이콘을 넣어 구분하여 표시한다. 왜냐하면 반복일정에는 아이콘이들어가 일반 하루일정에 는 아이콘이 안들어가는거야.

답변:

## TDD 사이클: RED → GREEN 단계 완료

### 작업 개요
캘린더 뷰(주별/월별)에서 반복 일정에만 Repeat 아이콘을 표시하는 기능을 TDD로 구현했습니다.

### RED 단계: 테스트 작성
1. **주별 뷰 테스트**: 반복 일정에는 RepeatIcon이 표시되고, 일반 일정에는 표시되지 않아야 함
2. **월별 뷰 테스트**: 반복 일정에는 RepeatIcon이 표시되고, 일반 일정에는 표시되지 않아야 함

테스트에서 mock 데이터로 명시적으로 설정:
- 일반 일정: `repeat: { type: 'none', interval: 0 }`
- 반복 일정: `repeat: { type: 'weekly', interval: 1 }` 또는 `{ type: 'monthly', interval: 1 }`

### GREEN 단계: 최소 구현
**App.tsx 수정:**
- `@mui/icons-material/Repeat`에서 `Repeat` 아이콘 import
- `renderWeekView`와 `renderMonthView`에서 조건부 렌더링 추가:
  ```tsx
  {event.repeat.type !== 'none' && (
    <Repeat fontSize="small" data-testid="RepeatIcon" />
  )}
  ```

**medium.integration.spec.tsx 수정:**
- 주별 뷰와 월별 뷰에 반복 일정 아이콘 표시 테스트 추가
- Mock 데이터로 일반 일정과 반복 일정을 명시적으로 설정
- `findAllByText`와 `getAllByText()[0]` 사용하여 multiple elements 문제 해결

### 문제 해결 과정
1. **Multiple elements error**: `getByText` → `getAllByText()[0]` 변경 (Memory 패턴 적용)
2. **Timeout error**: 테스트 timeout을 10000ms로 증가
3. **ESLint error**: 사용하지 않는 `user` 변수 제거

### 검증 결과
✅ **전체 테스트 통과**: 128 tests passed
✅ **TypeScript 검증**: 타입 오류 없음
✅ **ESLint 검증**: 코드 품질 문제 없음
✅ **CRLF 검증**: 줄바꿈 문제 없음

### 다음 단계
- Refactor 단계: 코드 개선 필요 여부 검토
- 사용자 피드백에 따른 추가 개선

